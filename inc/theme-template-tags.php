<?php

/**
 * This function open the main content.
 */
function theme_before_main_content() {
	?>
	<main id="main-content" class="main-content overflow-hidden mt-auto">
	<?php
}

add_action( 'before_main_content', 'theme_before_main_content' );

/**
 * This function closes the main content.
 */
function theme_after_main_content() {
	?>
	</main><!-- #main-content-->
	<?php
}

add_action( 'after_main_content', 'theme_after_main_content' );

/**
 * This function open the post content.
 */
function theme_before_post_content() {
	?>
	<article id="post-<?php the_ID(); ?>" <?php post_class(); ?>>
	<?php
}

add_action( 'before_post_content', 'theme_before_post_content' );

/**
 * This function closes the post content.
 */
function theme_after_post_content() {
	?>
	</article><!-- #article -->
	<?php
}

add_action( 'after_post_content', 'theme_after_post_content' );

/**
 * This function gest the rooms features.
 */
function theme_room_features() {
	if ( have_rows( 'features' ) ) :
		echo '<ul class="features">';
		while ( have_rows( 'features' ) ) :
			the_row();
			?>
			<li id="feature-item">
				<?php
				$fields = [
					'bed'      => __( 'Bett:', 'digid' ),
					'size'     => __( 'FlÃ¤che:', 'digid' ),
					'capacity' => __( 'Belegung:', 'digid' ),
					'view'     => __( 'Aussicht:', 'digid' ),
				];
				foreach ( $fields as $field_key => $label ) :
					$field_value = get_sub_field( $field_key );
					if ( $field_value ) :
						?>
						<p class="font-poppins font-normal text-sm text-blue-shade-5 tracking-[0.14px]">
							<span class="font-bold"><?php echo $label; ?></span> <?php echo esc_html( $field_value ); ?>
						</p>
						<?php
					endif;
				endforeach;
				?>
			</li>
			<?php
		endwhile;
		echo '</ul>';
	endif;
}

add_action( 'room_features', 'theme_room_features' );

/**
 * This theme logo.
 */
function theme_logo() {
	?>
	<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="418.7" height="499.1" fill="#0cc" viewBox="0 0 418.7 499.1"><path d="m178.1.1-34.4 206.6H95.2l2.2-13.7c-11.5 11.5-25.8 17.9-42.6 17.9-36.1 0-61.3-29.1-53.5-76.7 7-42.5 38.4-68.9 71.4-68.9 21.6 0 35.8 9.8 43.4 21.6L129.5.1h48.6zm-73.6 153.7 5.6-31.9c-4.8-10.4-13.4-15.1-24.6-15.1-16.8 0-31.4 11.2-34.7 31.6-3.1 17.1 3.4 30.8 22.4 30.8 11.4 0 22.6-5.1 31.3-15.4zM217.3 206.9h-48.4L193 69.7h48.4l-24.1 137.2zM197.1 23.5C199.4 10.4 211.7 0 226 0c17.9 0 29.4 14 26.3 31.1-2.5 13.4-14.8 23.8-29.1 23.8-17.7 0-29.2-14-26.1-31.4zM418.7 69.7l-22.4 127.4c-8.4 47.3-38.9 70-90.1 70-26.3 0-46.8-6.2-62.2-13.1l16.5-38.6c13.2 8.4 29.7 10.9 41.7 10.9 26.9 0 42.5-12.6 46.2-33l.6-3.6c-11.8 11.5-26 18.2-42.8 18.2-36.4 0-61.9-29.1-53.5-75 7-40.9 38.4-67.2 71.4-67.2 20.7 0 35.3 9.2 43.1 21.3l3.1-17.1h48.4zm-63.2 82.6 5.6-30.5c-4.5-10.1-13.7-14.8-24.6-14.8-17.1 0-30.5 10.9-34.4 28.8-3.1 15.1 2.8 30.2 23.2 30.2 10.6 0 21.5-4.2 30.2-13.7zM165.5 494.9h-48.4l24.1-137.2h48.4l-24.1 137.2zm-20.2-183.4c2.2-13.2 14.6-23.5 28.8-23.5 17.9 0 29.4 14 26.3 31.1-2.5 13.4-14.8 23.8-29.1 23.8-17.6 0-29.1-14-26-31.4zM377.3 298.9l-34.4 196h-48.4l2.2-13.7c-11.5 11.5-25.8 17.9-42.6 17.9-36.1 0-61.3-29.1-53.5-76.7 7-42.5 38.4-68.9 71.4-68.9 21.6 0 35.8 9.8 43.4 21.6l13.4-76.1h48.5zM303.7 442l5.6-31.9c-4.8-10.4-13.4-15.1-24.6-15.1-16.8 0-31.4 11.2-34.7 31.6-3.1 17.1 3.4 30.8 22.4 30.8 11.4 0 22.6-5.1 31.3-15.4zM36.3 494.9l10-54.9h55.3l-9.7 54.9z"></path></svg>
	<?php
}

add_action( 'theme_logo', 'theme_logo' );

/**
 * This theme logo for mobile.
 */
function theme_logo_mobile() {
	?>
	<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="418.7" height="499.1" fill="#0cc" viewBox="0 0 418.7 499.1"><path d="m178.1.1-34.4 206.6H95.2l2.2-13.7c-11.5 11.5-25.8 17.9-42.6 17.9-36.1 0-61.3-29.1-53.5-76.7 7-42.5 38.4-68.9 71.4-68.9 21.6 0 35.8 9.8 43.4 21.6L129.5.1h48.6zm-73.6 153.7 5.6-31.9c-4.8-10.4-13.4-15.1-24.6-15.1-16.8 0-31.4 11.2-34.7 31.6-3.1 17.1 3.4 30.8 22.4 30.8 11.4 0 22.6-5.1 31.3-15.4zM217.3 206.9h-48.4L193 69.7h48.4l-24.1 137.2zM197.1 23.5C199.4 10.4 211.7 0 226 0c17.9 0 29.4 14 26.3 31.1-2.5 13.4-14.8 23.8-29.1 23.8-17.7 0-29.2-14-26.1-31.4zM418.7 69.7l-22.4 127.4c-8.4 47.3-38.9 70-90.1 70-26.3 0-46.8-6.2-62.2-13.1l16.5-38.6c13.2 8.4 29.7 10.9 41.7 10.9 26.9 0 42.5-12.6 46.2-33l.6-3.6c-11.8 11.5-26 18.2-42.8 18.2-36.4 0-61.9-29.1-53.5-75 7-40.9 38.4-67.2 71.4-67.2 20.7 0 35.3 9.2 43.1 21.3l3.1-17.1h48.4zm-63.2 82.6 5.6-30.5c-4.5-10.1-13.7-14.8-24.6-14.8-17.1 0-30.5 10.9-34.4 28.8-3.1 15.1 2.8 30.2 23.2 30.2 10.6 0 21.5-4.2 30.2-13.7zM165.5 494.9h-48.4l24.1-137.2h48.4l-24.1 137.2zm-20.2-183.4c2.2-13.2 14.6-23.5 28.8-23.5 17.9 0 29.4 14 26.3 31.1-2.5 13.4-14.8 23.8-29.1 23.8-17.6 0-29.1-14-26-31.4zM377.3 298.9l-34.4 196h-48.4l2.2-13.7c-11.5 11.5-25.8 17.9-42.6 17.9-36.1 0-61.3-29.1-53.5-76.7 7-42.5 38.4-68.9 71.4-68.9 21.6 0 35.8 9.8 43.4 21.6l13.4-76.1h48.5zM303.7 442l5.6-31.9c-4.8-10.4-13.4-15.1-24.6-15.1-16.8 0-31.4 11.2-34.7 31.6-3.1 17.1 3.4 30.8 22.4 30.8 11.4 0 22.6-5.1 31.3-15.4zM36.3 494.9l10-54.9h55.3l-9.7 54.9z"></path></svg>
	<?php
}

add_action( 'theme_logo_mobile', 'theme_logo_mobile' );

/**
 * Implement and customize Yoast Breadcrumbs.
 */
function theme_breadcrumbs() {
	if ( function_exists( 'yoast_breadcrumb' ) ) :
		yoast_breadcrumb( '<p id="breadcrumbs">', '</p>' );
	endif;
}

add_action( 'breadcrumbs', 'theme_breadcrumbs' );


/**
 * Socials for the website.
 */
function theme_socials() {

	$socials = [
		'facebook' => [
			'url' => get_field( 'socials_facebook', 'options' ),
			'svg' => '<svg xmlns="http://www.w3.org/2000/svg" width="22" height="23" viewBox="0 0 22 23" fill="none"><path d="M22 11.5426C22 5.168 17.0755 0 11.0004 0C4.92522 0 0 5.168 0 11.5426C0 16.9556 3.55126 21.4975 8.34235 22.7451V15.0696H6.07369V11.5426H8.34235V10.0226C8.34235 6.09387 10.0368 4.27332 13.7127 4.27332C14.4095 4.27332 15.6124 4.41635 16.1039 4.56013V7.75771C15.8444 7.7288 15.3934 7.71434 14.8329 7.71434C13.029 7.71434 12.3323 8.431 12.3323 10.2949V11.5426H15.9256L15.3086 15.0696H12.333V23C17.7795 22.31 22.0007 17.4432 22.0007 11.5426H22Z" fill="#0E324A"/></svg>',
		],
		'twitter' => [
			'url' => get_field( 'socials_twitter', 'options' ),
			'svg' => '<svg xmlns="http://www.w3.org/2000/svg" width="23" height="22" viewBox="0 0 14 13" fill="none"><path d="M12.5508 3.59668C12.5508 3.7334 12.5508 3.84277 12.5508 3.97949C12.5508 7.78027 9.67969 12.1279 4.40234 12.1279C2.76172 12.1279 1.25781 11.6631 0 10.8428C0.21875 10.8701 0.4375 10.8975 0.683594 10.8975C2.02344 10.8975 3.25391 10.4326 4.23828 9.66699C2.98047 9.63965 1.91406 8.81934 1.55859 7.6709C1.75 7.69824 1.91406 7.72559 2.10547 7.72559C2.35156 7.72559 2.625 7.6709 2.84375 7.61621C1.53125 7.34277 0.546875 6.19434 0.546875 4.7998V4.77246C0.929688 4.99121 1.39453 5.10059 1.85938 5.12793C1.06641 4.6084 0.574219 3.7334 0.574219 2.74902C0.574219 2.20215 0.710938 1.70996 0.957031 1.2998C2.37891 3.02246 4.51172 4.1709 6.89062 4.30762C6.83594 4.08887 6.80859 3.87012 6.80859 3.65137C6.80859 2.06543 8.09375 0.780273 9.67969 0.780273C10.5 0.780273 11.2383 1.1084 11.7852 1.68262C12.4141 1.5459 13.043 1.2998 13.5898 0.97168C13.3711 1.65527 12.9336 2.20215 12.332 2.55762C12.9062 2.50293 13.4805 2.33887 13.9727 2.12012C13.5898 2.69434 13.0977 3.18652 12.5508 3.59668Z" fill="#0E324A"/></svg>',
		],
		'instagram' => [
			'url' => get_field( 'socials_instagram', 'options' ),
			'svg' => '<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23" fill="none"><path d="M11.5257 5.57031C14.76 5.57031 17.4297 8.23996 17.4297 11.4743C17.4297 14.76 14.76 17.3783 11.5257 17.3783C8.23996 17.3783 5.62165 14.76 5.62165 11.4743C5.62165 8.23996 8.23996 5.57031 11.5257 5.57031ZM11.5257 15.3248C13.6306 15.3248 15.3248 13.6306 15.3248 11.4743C15.3248 9.36942 13.6306 7.67522 11.5257 7.67522C9.36942 7.67522 7.67522 9.36942 7.67522 11.4743C7.67522 13.6306 9.42076 15.3248 11.5257 15.3248ZM19.0212 5.36496C19.0212 4.59487 18.4051 3.97879 17.635 3.97879C16.865 3.97879 16.2489 4.59487 16.2489 5.36496C16.2489 6.13504 16.865 6.75112 17.635 6.75112C18.4051 6.75112 19.0212 6.13504 19.0212 5.36496ZM22.923 6.75112C23.0257 8.65067 23.0257 14.3493 22.923 16.2489C22.8203 18.0971 22.4096 19.6886 21.0748 21.0748C19.74 22.4096 18.0971 22.8203 16.2489 22.923C14.3493 23.0257 8.65067 23.0257 6.75112 22.923C4.9029 22.8203 3.31138 22.4096 1.92522 21.0748C0.590402 19.6886 0.179688 18.0971 0.0770089 16.2489C-0.0256696 14.3493 -0.0256696 8.65067 0.0770089 6.75112C0.179688 4.9029 0.590402 3.26004 1.92522 1.92522C3.31138 0.590402 4.9029 0.179688 6.75112 0.0770089C8.65067 -0.0256696 14.3493 -0.0256696 16.2489 0.0770089C18.0971 0.179688 19.74 0.590402 21.0748 1.92522C22.4096 3.26004 22.8203 4.9029 22.923 6.75112ZM20.4587 18.2511C21.0748 16.7623 20.9208 13.1685 20.9208 11.4743C20.9208 9.83147 21.0748 6.23772 20.4587 4.69754C20.048 3.7221 19.2779 2.90067 18.3025 2.54129C16.7623 1.92522 13.1685 2.07924 11.5257 2.07924C9.83147 2.07924 6.23772 1.92522 4.74888 2.54129C3.7221 2.95201 2.95201 3.7221 2.54129 4.69754C1.92522 6.23772 2.07924 9.83147 2.07924 11.4743C2.07924 13.1685 1.92522 16.7623 2.54129 18.2511C2.95201 19.2779 3.7221 20.048 4.74888 20.4587C6.23772 21.0748 9.83147 20.9208 11.5257 20.9208C13.1685 20.9208 16.7623 21.0748 18.3025 20.4587C19.2779 20.048 20.0993 19.2779 20.4587 18.2511Z" fill="#0E324A"/></svg>',
		],
		'linkedin' => [
			'url' => get_field( 'socials_linkedin', 'options' ),
			'svg' => '<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 13 13" fill="none"><path d="M2.73438 12.6904H0.191406V4.51465H2.73438V12.6904ZM1.44922 3.4209C0.65625 3.4209 0 2.7373 0 1.91699C0 1.12402 0.65625 0.467773 1.44922 0.467773C2.26953 0.467773 2.92578 1.12402 2.92578 1.91699C2.92578 2.7373 2.26953 3.4209 1.44922 3.4209ZM9.70703 12.6904V8.72559C9.70703 7.76855 9.67969 6.56543 8.36719 6.56543C7.05469 6.56543 6.86328 7.57715 6.86328 8.64355V12.6904H4.32031V4.51465H6.75391V5.63574H6.78125C7.13672 5.00684 7.95703 4.32324 9.1875 4.32324C11.7578 4.32324 12.25 6.01855 12.25 8.20605V12.6904H9.70703Z" fill="#0E324A"/></svg>',
		],
	];

	$html = '<div class="social-links">';

	foreach ( $socials as $platform => $social_data ) :
		if ( $social_data['url'] ) :
			$html .= sprintf(
				'<a href="%s" target="_blank" rel="noopener noreferrer" class="social-link social-link--%s">%s</a>',
				esc_url( $social_data['url'] ),
				esc_attr( $platform ),
				$social_data['svg']
				//ucfirst( $platform )
			);
		endif;
	endforeach;

	$html .= '</div>';

	echo $html;

}

add_action( 'socials', 'theme_socials' );
